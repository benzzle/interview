<!--
 * @Description: Desctiption
 * @FilePath: /interview/2021/手写/async.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 案例1
    // console.log('script start-----1');

    // async function async1() {
    //   await async2();
    //   console.log('async1 end----3');
    // }

    // async function async2() {
    //   console.log('async2 end-----2');
    // }

    // async1();
    // setTimeout(function() {
    //   console.log('setTimeout----5');
    // }, 0);
    // new Promise(resolve => {
    //   console.log('Promise----2.2');
    //   resolve();
    // }).then(function() {
    //   console.log('promise end----4');
    // });
    // console.log('script end----2.3');





    // 案例 2
    console.log('script start----1');

async function async1() {
  await async2();
  console.log('async1 end-----4');
}

async function async2() {
  console.log('async2 end-----2');
  return Promise.resolve().then(()=>{ console.log('async2 end in promise-----3') })
}

async1();
setTimeout(function() {
  console.log('setTimeout');
}, 0);
new Promise(resolve => {
  console.log('Promise----2.1');
  resolve();
}).then(function() {
  console.log('promise end---3.1');
});
console.log('script end---2.2');
  </script>
</body>
</html>